{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\n/**\r\n * Utility to merge Tailwind + conditional classes.\r\n * Example: cn(\"p-2\", isActive && \"bg-blue-500\")\r\n */\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAMO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive: \"bg-red-500 text-white hover:bg-red-600\",\r\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"underline-offset-4 hover:underline text-primary\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 px-3 rounded-md\",\r\n        lg: \"h-11 px-8 rounded-md\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nButton.displayName = \"Button\";\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,wQACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAGF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n/**\r\n * Card container — provides padding, rounded corners, and shadow.\r\n */\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-2xl border border-gray-200 bg-white shadow-sm transition hover:shadow-md\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCard.displayName = \"Card\";\r\n\r\n/**\r\n * CardContent — section inside Card for content layout.\r\n */\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-4 md:p-6\", className)} {...props} />\r\n));\r\nCardContent.displayName = \"CardContent\";\r\n\r\n/**\r\n * CardHeader — optional header for titles, actions, etc.\r\n */\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center justify-between p-4 md:p-6 border-b\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardHeader.displayName = \"CardHeader\";\r\n\r\n/**\r\n * CardFooter — optional footer for buttons, metadata, etc.\r\n */\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center justify-end p-4 md:p-6 border-t\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardFooter.displayName = \"CardFooter\";\r\n\r\nexport { Card, CardContent, CardHeader, CardFooter };\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;;;;AAEA;;CAEC,GACD,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,oFACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB;;CAEC,GACD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,cAAc;QAAa,GAAG,KAAK;;;;;;AAElE,YAAY,WAAW,GAAG;AAE1B;;CAEC,GACD,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,yDAAyD;QACtE,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB;;CAEC,GACD,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\n/**\r\n * Reusable input component with consistent styling.\r\n */\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type = \"text\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-11 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white\",\r\n          \"placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2\",\r\n          \"disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA;;CAEC,GACD,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,MAAM,EAAE,GAAG,OAAO,EAAE;IACvC,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,mGACA,qIACA,mDACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Table = React.forwardRef<\r\n  HTMLTableElement,\r\n  React.HTMLAttributes<HTMLTableElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div className=\"relative w-full overflow-auto rounded-lg border border-gray-200\">\r\n    <table\r\n      ref={ref}\r\n      className={cn(\"w-full caption-bottom text-sm\", className)}\r\n      {...props}\r\n    />\r\n  </div>\r\n));\r\nTable.displayName = \"Table\";\r\n\r\nconst TableHeader = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <thead ref={ref} className={cn(\"[&_tr]:border-b bg-gray-50\", className)} {...props} />\r\n));\r\nTableHeader.displayName = \"TableHeader\";\r\n\r\nconst TableBody = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tbody\r\n    ref={ref}\r\n    className={cn(\"[&_tr:last-child]:border-0 divide-y divide-gray-200\", className)}\r\n    {...props}\r\n  />\r\n));\r\nTableBody.displayName = \"TableBody\";\r\n\r\nconst TableRow = React.forwardRef<\r\n  HTMLTableRowElement,\r\n  React.HTMLAttributes<HTMLTableRowElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tr\r\n    ref={ref}\r\n    className={cn(\r\n      \"hover:bg-gray-50 transition-colors data-[state=selected]:bg-gray-100\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nTableRow.displayName = \"TableRow\";\r\n\r\nconst TableHead = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.ThHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <th\r\n    ref={ref}\r\n    className={cn(\r\n      \"h-12 px-4 text-left align-middle font-medium text-gray-700\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nTableHead.displayName = \"TableHead\";\r\n\r\nconst TableCell = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.TdHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <td\r\n    ref={ref}\r\n    className={cn(\"p-4 align-middle text-gray-900\", className)}\r\n    {...props}\r\n  />\r\n));\r\nTableCell.displayName = \"TableCell\";\r\n\r\nexport { Table, TableHeader, TableBody, TableRow, TableHead, TableCell };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAM,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;AAEpF,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,uDAAuD;QACpE,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,kCAAkC;QAC/C,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement> {}\r\n\r\nexport function Badge({ className, ...props }: BadgeProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAIO,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAmB;IACvD,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,2EACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/app/admin/jobs/JobRow.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { Job } from \"./types\";\r\nimport { Pencil, Trash2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\n\r\ninterface JobRowProps {\r\n  job: Job;\r\n  onEdit: (job: Job) => void;\r\n  onDelete: (jobId: string) => void;\r\n}\r\n\r\nexport default function JobRow({ job, onEdit, onDelete }: JobRowProps) {\r\n  const handleEdit = () => onEdit(job);\r\n\r\n  const handleDelete = () => {\r\n    if (confirm(`Are you sure you want to delete job \"${job.title}\"?`)) {\r\n      onDelete(job._id);\r\n    }\r\n  };\r\n\r\n  const statusColor =\r\n    job.status === \"Open\"\r\n      ? \"bg-green-100 text-green-800\"\r\n      : job.status === \"Closed\"\r\n      ? \"bg-red-100 text-red-800\"\r\n      : \"bg-gray-100 text-gray-800\";\r\n\r\n  return (\r\n    <tr className=\"hover:bg-gray-50 transition-colors\">\r\n      {/* Title + Department */}\r\n      <td className=\"px-4 py-3\">\r\n        <div className=\"font-medium text-gray-900\">{job.title}</div>\r\n        {job.department && (\r\n          <div className=\"text-xs text-gray-500\">{job.department}</div>\r\n        )}\r\n      </td>\r\n\r\n      {/* Location */}\r\n      <td className=\"px-4 py-3 text-gray-700\">{job.location}</td>\r\n\r\n      {/* Type */}\r\n      <td className=\"px-4 py-3 text-gray-700\">{job.type}</td>\r\n\r\n      {/* Status */}\r\n      <td className=\"px-4 py-3\">\r\n        <Badge className={statusColor}>{job.status}</Badge>\r\n      </td>\r\n\r\n      {/* Deadline */}\r\n      <td className=\"px-4 py-3 text-gray-700\">\r\n        {job.applicationDeadline\r\n          ? new Date(job.applicationDeadline).toLocaleDateString()\r\n          : \"-\"}\r\n      </td>\r\n\r\n      {/* Created */}\r\n      <td className=\"px-4 py-3 text-gray-500 text-sm\">\r\n        {job.createdAt\r\n          ? formatDistanceToNow(new Date(job.createdAt), { addSuffix: true })\r\n          : \"-\"}\r\n      </td>\r\n\r\n      {/* Actions */}\r\n      <td className=\"px-4 py-3 flex gap-2 justify-end\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={handleEdit}\r\n          className=\"flex items-center gap-1\"\r\n        >\r\n          <Pencil size={16} /> Edit\r\n        </Button>\r\n        <Button\r\n          variant=\"destructive\"\r\n          size=\"sm\"\r\n          onClick={handleDelete}\r\n          className=\"flex items-center gap-1\"\r\n        >\r\n          <Trash2 size={16} /> Delete\r\n        </Button>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AAAA;AACA;AACA;AACA;AAPA;;;;;;AAee,SAAS,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAe;IACnE,MAAM,aAAa,IAAM,OAAO;IAEhC,MAAM,eAAe;QACnB,IAAI,QAAQ,CAAC,qCAAqC,EAAE,IAAI,KAAK,CAAC,EAAE,CAAC,GAAG;YAClE,SAAS,IAAI,GAAG;QAClB;IACF;IAEA,MAAM,cACJ,IAAI,MAAM,KAAK,SACX,gCACA,IAAI,MAAM,KAAK,WACf,4BACA;IAEN,qBACE,8OAAC;QAAG,WAAU;;0BAEZ,8OAAC;gBAAG,WAAU;;kCACZ,8OAAC;wBAAI,WAAU;kCAA6B,IAAI,KAAK;;;;;;oBACpD,IAAI,UAAU,kBACb,8OAAC;wBAAI,WAAU;kCAAyB,IAAI,UAAU;;;;;;;;;;;;0BAK1D,8OAAC;gBAAG,WAAU;0BAA2B,IAAI,QAAQ;;;;;;0BAGrD,8OAAC;gBAAG,WAAU;0BAA2B,IAAI,IAAI;;;;;;0BAGjD,8OAAC;gBAAG,WAAU;0BACZ,cAAA,8OAAC,0IAAK;oBAAC,WAAW;8BAAc,IAAI,MAAM;;;;;;;;;;;0BAI5C,8OAAC;gBAAG,WAAU;0BACX,IAAI,mBAAmB,GACpB,IAAI,KAAK,IAAI,mBAAmB,EAAE,kBAAkB,KACpD;;;;;;0BAIN,8OAAC;gBAAG,WAAU;0BACX,IAAI,SAAS,GACV,IAAA,yKAAmB,EAAC,IAAI,KAAK,IAAI,SAAS,GAAG;oBAAE,WAAW;gBAAK,KAC/D;;;;;;0BAIN,8OAAC;gBAAG,WAAU;;kCACZ,8OAAC,4IAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,WAAU;;0CAEV,8OAAC,gNAAM;gCAAC,MAAM;;;;;;4BAAM;;;;;;;kCAEtB,8OAAC,4IAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,WAAU;;0CAEV,8OAAC,oNAAM;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;;;;;;;AAK9B","debugId":null}},
    {"offset": {"line": 531, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nTextarea.displayName = \"Textarea\";\r\n\r\nexport { Textarea };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,kSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAGF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 558, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface LabelProps\r\n  extends React.LabelHTMLAttributes<HTMLLabelElement> {}\r\n\r\nconst Label = React.forwardRef<HTMLLabelElement, LabelProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <label\r\n        ref={ref}\r\n        className={cn(\r\n          \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nLabel.displayName = \"Label\";\r\n\r\nexport { Label };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;AAGf;AAGF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/app/admin/jobs/JobModal.tsx"],"sourcesContent":["//frontend\\src\\app\\admin\\jobs\\JobModal.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport axios, { AxiosError } from \"axios\";\r\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { X, Save, Trash } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nexport interface JobPayload {\r\n  title: string;\r\n  slug?: string;\r\n  description: string;\r\n  location: string;\r\n  type: string;\r\n  department?: string;\r\n  salaryRange?: string;\r\n  requirements?: string[];\r\n  responsibilities?: string[];\r\n  tags?: string[];\r\n  applicationDeadline?: string | null;\r\n  status?: \"active\" | \"closed\" | \"draft\";\r\n}\r\n\r\nexport type Job = JobPayload & { _id?: string; createdAt?: string };\r\n\r\ninterface Props {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  initialData?: Job | null;\r\n  onSaved?: (job: Job) => void;\r\n}\r\n\r\nexport default function JobModal({ isOpen, onClose, initialData = null, onSaved }: Props) {\r\n  const queryClient = useQueryClient();\r\n\r\n  // ------------------------\r\n  // FORM STATE\r\n  // ------------------------\r\n  const [title, setTitle] = useState(\"\");\r\n  const [slug, setSlug] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [type, setType] = useState(\"Full-time\");\r\n  const [department, setDepartment] = useState(\"\");\r\n  const [salaryRange, setSalaryRange] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [requirements, setRequirements] = useState<string[]>([]);\r\n  const [responsibilities, setResponsibilities] = useState<string[]>([]);\r\n  const [tags, setTags] = useState<string[]>([]);\r\n  const [tagInput, setTagInput] = useState(\"\");\r\n  const [applicationDeadline, setApplicationDeadline] = useState<string | null>(null);\r\n  const [status, setStatus] = useState<JobPayload[\"status\"]>(\"active\");\r\n\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  const firstInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  // ------------------------\r\n  // EFFECT: RESET FORM WHEN OPEN\r\n  // ------------------------\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    setTitle(initialData?.title ?? \"\");\r\n    setSlug(initialData?.slug ?? \"\");\r\n    setLocation(initialData?.location ?? \"\");\r\n    setType(initialData?.type ?? \"Full-time\");\r\n    setDepartment(initialData?.department ?? \"\");\r\n    setSalaryRange(initialData?.salaryRange ?? \"\");\r\n    setDescription(initialData?.description ?? \"\");\r\n    setRequirements(initialData?.requirements ?? []);\r\n    setResponsibilities(initialData?.responsibilities ?? []);\r\n    setTags(initialData?.tags ?? []);\r\n    setApplicationDeadline(\r\n      initialData?.applicationDeadline\r\n        ? formatDateForInput(initialData.applicationDeadline)\r\n        : null\r\n    );\r\n    setStatus(initialData?.status ?? \"active\");\r\n    setErrors({});\r\n    setTimeout(() => firstInputRef.current?.focus(), 50);\r\n  }, [isOpen, initialData]);\r\n\r\n  // ------------------------\r\n  // HELPERS\r\n  // ------------------------\r\n  function slugify(value: string) {\r\n    return value\r\n      .toLowerCase()\r\n      .trim()\r\n      .replace(/[^a-z0-9]+/g, \"-\")\r\n      .replace(/(^-|-$)+/g, \"\");\r\n  }\r\n\r\n  function formatDateForInput(d: string | Date) {\r\n    const date = new Date(d);\r\n    if (Number.isNaN(date.getTime())) return null;\r\n    return date.toISOString().split(\"T\")[0]; // YYYY-MM-DD\r\n  }\r\n\r\n  function validate(): boolean {\r\n    const e: Record<string, string> = {};\r\n    if (!title.trim()) e.title = \"Title is required\";\r\n    if (!description.trim() || description.trim().length < 20)\r\n      e.description = \"Description must be at least 20 characters\";\r\n    if (!location.trim()) e.location = \"Location is required\";\r\n    if (!type) e.type = \"Type is required\";\r\n    if (applicationDeadline) {\r\n      const d = new Date(applicationDeadline);\r\n      const today = new Date();\r\n      d.setHours(0, 0, 0, 0);\r\n      today.setHours(0, 0, 0, 0);\r\n      if (d < today) e.applicationDeadline = \"Deadline cannot be in the past\";\r\n    }\r\n    setErrors(e);\r\n    return Object.keys(e).length === 0;\r\n  }\r\n\r\n  // ------------------------\r\n  // MUTATION (CREATE/UPDATE)\r\n  // ------------------------\r\n  const mutation = useMutation<Job, unknown, JobPayload>({\r\n    mutationFn: async (body: JobPayload) => {\r\n      if (initialData?._id) {\r\n        const res = await axios.patch(`/api/careers/jobs/${initialData._id}`, body);\r\n        return res.data;\r\n      }\r\n      const res = await axios.post(\"/api/careers/jobs\", body);\r\n      return res.data;\r\n    },\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: [\"admin-jobs\"] });\r\n      onSaved?.(data);\r\n      onClose();\r\n    },\r\n    onError: (err: unknown) => {\r\n      let msg = \"Failed to save job\";\r\n\r\n      if (axios.isAxiosError(err)) {\r\n        const data = err.response?.data;\r\n        if (data && typeof data === \"object\" && \"message\" in data) {\r\n          msg = (data as { message: string }).message;\r\n        } else if (err.message) {\r\n          msg = err.message;\r\n        }\r\n      } else if (err instanceof Error) {\r\n        msg = err.message;\r\n      }\r\n\r\n      setErrors({ form: msg });\r\n    },\r\n  });\r\n\r\n  // ------------------------\r\n  // EVENT HANDLERS\r\n  // ------------------------\r\n  const handleAddTag = () => {\r\n    const v = tagInput.trim();\r\n    if (!v) return;\r\n    const newTags = Array.from(\r\n      new Set([...tags, ...v.split(/[,;\\s]+/).map((t) => t.trim()).filter(Boolean)])\r\n    );\r\n    setTags(newTags);\r\n    setTagInput(\"\");\r\n  };\r\n\r\n  const handleSubmit = async (e?: React.FormEvent) => {\r\n    e?.preventDefault();\r\n    if (!validate()) return;\r\n    setIsSaving(true);\r\n\r\n    const payload: JobPayload = {\r\n      title: title.trim(),\r\n      slug: slug ? slugify(slug) : slugify(title),\r\n      description: description.trim(),\r\n      location: location.trim(),\r\n      type,\r\n      department: department || undefined,\r\n      salaryRange: salaryRange || undefined,\r\n      requirements: requirements.filter(Boolean),\r\n      responsibilities: responsibilities.filter(Boolean),\r\n      tags: tags.filter(Boolean),\r\n      applicationDeadline: applicationDeadline\r\n        ? new Date(applicationDeadline).toISOString()\r\n        : null,\r\n      status,\r\n    };\r\n\r\n    try {\r\n      await mutation.mutateAsync(payload);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    if (!isSaving) onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  // ------------------------\r\n  // UI\r\n  // ------------------------\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      <div className=\"absolute inset-0 bg-black/50\" onClick={handleClose} />\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"relative z-10 w-full max-w-3xl bg-white rounded-2xl shadow-lg overflow-auto max-h-[90vh]\"\r\n      >\r\n        {/* HEADER */}\r\n        <div className=\"flex items-center justify-between p-6 border-b\">\r\n          <h3 className=\"text-lg font-semibold\">\r\n            {initialData ? \"Edit Job\" : \"Create Job\"}\r\n          </h3>\r\n          <div className=\"flex items-center gap-2\">\r\n            {initialData?._id && (\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"destructive\"\r\n                onClick={async () => {\r\n                  if (!confirm(\"Delete this job? This action is permanent.\")) return;\r\n                  try {\r\n                    await axios.delete(`/api/careers/jobs/${initialData._id}`);\r\n                    queryClient.invalidateQueries({ queryKey: [\"admin-jobs\"] });\r\n                    onClose();\r\n                  } catch {\r\n                    setErrors({ form: \"Delete failed\" });\r\n                  }\r\n                }}\r\n              >\r\n                <Trash size={14} />\r\n              </Button>\r\n            )}\r\n            <Button type=\"button\" variant=\"ghost\" onClick={handleClose}>\r\n              <X size={18} />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* BODY */}\r\n        <div className=\"p-6 space-y-4\">\r\n          {errors.form && <p className=\"text-red-600 text-sm\">{errors.form}</p>}\r\n\r\n          {/* Title / Slug */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <Label>Title</Label>\r\n              <Input\r\n                ref={firstInputRef}\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n              />\r\n              {errors.title && (\r\n                <p className=\"text-xs text-red-600\">{errors.title}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Slug (optional)</Label>\r\n              <Input\r\n                value={slug}\r\n                placeholder=\"auto-generated from title\"\r\n                onChange={(e) => setSlug(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Location</Label>\r\n              <Input\r\n                value={location}\r\n                onChange={(e) => setLocation(e.target.value)}\r\n              />\r\n              {errors.location && (\r\n                <p className=\"text-xs text-red-600\">{errors.location}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Type</Label>\r\n              <select\r\n                className=\"w-full border rounded px-3 py-2\"\r\n                value={type}\r\n                onChange={(e) => setType(e.target.value)}\r\n              >\r\n                <option>Full-time</option>\r\n                <option>Part-time</option>\r\n                <option>Contract</option>\r\n                <option>Internship</option>\r\n                <option>Temporary</option>\r\n                <option>Remote</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Department</Label>\r\n              <Input\r\n                value={department}\r\n                onChange={(e) => setDepartment(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Salary Range</Label>\r\n              <Input\r\n                value={salaryRange}\r\n                placeholder=\"e.g. KES 40,000 - 60,000\"\r\n                onChange={(e) => setSalaryRange(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"md:col-span-2\">\r\n              <Label>Description</Label>\r\n              <Textarea\r\n                rows={6}\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n              />\r\n              {errors.description && (\r\n                <p className=\"text-xs text-red-600\">{errors.description}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Application Deadline</Label>\r\n              <Input\r\n                type=\"date\"\r\n                value={applicationDeadline ?? \"\"}\r\n                onChange={(e) =>\r\n                  setApplicationDeadline(e.target.value || null)\r\n                }\r\n              />\r\n              {errors.applicationDeadline && (\r\n                <p className=\"text-xs text-red-600\">\r\n                  {errors.applicationDeadline}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Status</Label>\r\n              <select\r\n                className=\"w-full border rounded px-3 py-2\"\r\n                value={status}\r\n                onChange={(e) => setStatus(e.target.value as JobPayload[\"status\"])}\r\n              >\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"draft\">Draft</option>\r\n                <option value=\"closed\">Closed</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tags */}\r\n          <div>\r\n            <Label>Tags</Label>\r\n            <div className=\"flex gap-2\">\r\n              <Input\r\n                value={tagInput}\r\n                onChange={(e) => setTagInput(e.target.value)}\r\n                onKeyDown={(e) =>\r\n                  e.key === \"Enter\" && (e.preventDefault(), handleAddTag())\r\n                }\r\n              />\r\n              <Button type=\"button\" onClick={handleAddTag}>\r\n                Add\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-2 mt-2\">\r\n              {tags.map((t) => (\r\n                <span\r\n                  key={t}\r\n                  className=\"px-2 py-1 bg-slate-100 rounded flex items-center gap-2\"\r\n                >\r\n                  {t}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setTags(tags.filter((x) => x !== t))}\r\n                  >\r\n                    ✕\r\n                  </button>\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* FOOTER */}\r\n          <div className=\"flex justify-end gap-3 pt-4 border-t\">\r\n            <Button variant=\"ghost\" type=\"button\" onClick={handleClose}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isSaving}>\r\n              {isSaving ? \"Saving...\" : <><Save size={14} className=\"mr-2\" /> Save</>}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1321, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/app/admin/jobs/page.tsx"],"sourcesContent":["// frontend/src/app/admin/jobs/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"../../../components/ui/button\";\r\nimport { Card, CardContent } from \"../../../components/ui/card\";\r\nimport { Input } from \"../../../components/ui/input\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"../../../components/ui/table\";\r\nimport { PlusCircle } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\nimport JobRow from \"./JobRow\";\r\nimport JobModal from \"./JobModal\";\r\nimport type { Job } from \"./types\";\r\n\r\nexport default function JobsPage() {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [editingJob, setEditingJob] = useState<Job | null>(null);\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  // Fetch jobs (guarantee an array default so `jobs.length` is safe)\r\n  const {\r\n    data: jobs = [],\r\n    isLoading,\r\n    isError,\r\n    error,\r\n  } = useQuery<Job[]>({\r\n    queryKey: [\"admin-jobs\", search],\r\n    queryFn: async () => {\r\n      const base = process.env.NEXT_PUBLIC_API_URL || \"\";\r\n      const res = await axios.get<{ data: Job[] }>(\r\n        `${base}/api/careers/jobs?q=${encodeURIComponent(search)}`\r\n      );\r\n      return res.data?.data ?? [];\r\n    },\r\n  });\r\n\r\n  // Delete job mutation (typed)\r\n  const deleteJobMutation = useMutation<void, unknown, string>({\r\n    mutationFn: async (id: string) => {\r\n      const base = process.env.NEXT_PUBLIC_API_URL || \"\";\r\n      await axios.delete(`${base}/api/careers/jobs/${encodeURIComponent(id)}`);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"admin-jobs\"] });\r\n    },\r\n  });\r\n\r\n  const handleOpenModal = (job: Job | null = null) => {\r\n    setEditingJob(job);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  return (\r\n    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"p-6 space-y-6\">\r\n      {/* HEADER */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-2xl font-bold\">Jobs Management</h1>\r\n        <Button className=\"flex items-center gap-2\" onClick={() => handleOpenModal()}>\r\n          <PlusCircle size={18} /> Add Job\r\n        </Button>\r\n      </div>\r\n\r\n      {/* MAIN CARD */}\r\n      <Card className=\"shadow-md\">\r\n        <CardContent className=\"p-4 space-y-4\">\r\n          {/* SEARCH */}\r\n          <Input\r\n            placeholder=\"Search jobs by title or location...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n\r\n          {/* LOADING */}\r\n          {isLoading && <p className=\"text-gray-500\">Loading jobs...</p>}\r\n\r\n          {/* ERROR */}\r\n          {isError && (\r\n            <div className=\"text-red-600\">\r\n              <p>Failed to load jobs.</p>\r\n              {axios.isAxiosError(error) && (\r\n                <p className=\"text-sm\">{error.response?.data?.message || error.message}</p>\r\n              )}\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"mt-2\"\r\n                onClick={() => queryClient.invalidateQueries({ queryKey: [\"admin-jobs\"] })}\r\n              >\r\n                Retry\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          {/* NO RESULTS */}\r\n          {!isLoading && !isError && jobs.length === 0 && (\r\n            <p className=\"text-gray-500\">No jobs found.</p>\r\n          )}\r\n\r\n          {/* JOB LIST */}\r\n          {!isLoading && jobs.length > 0 && (\r\n            <div className=\"overflow-x-auto\">\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead>Title</TableHead>\r\n                    <TableHead>Location</TableHead>\r\n                    <TableHead>Type</TableHead>\r\n                    <TableHead>Status</TableHead>\r\n                    <TableHead>Deadline</TableHead>\r\n                    <TableHead>Actions</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n\r\n                <TableBody>\r\n                  {jobs.map((job, idx) => {\r\n                    // Ensure stable key even if backend returns objects without _id\r\n                    const key = job._id ?? `job-${idx}`;\r\n\r\n                    return (\r\n                      <JobRow\r\n                        key={key}\r\n                        job={job}\r\n                        onEdit={() => handleOpenModal(job)}\r\n                        onDelete={() => {\r\n                          const id = job._id;\r\n                          if (!id) {\r\n                            // fallback: nothing to delete\r\n                            // optionally show toast / error\r\n                            return;\r\n                          }\r\n                          deleteJobMutation.mutate(id);\r\n                        }}\r\n                      />\r\n                    );\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Job Create/Edit Modal\r\n          NOTE: JobModal expects `isOpen`, `initialData`, `onSaved` (matching the modal implementation)\r\n      */}\r\n      <JobModal\r\n        isOpen={openModal}\r\n        onClose={() => setOpenModal(false)}\r\n        initialData={editingJob}\r\n        onSaved={() => queryClient.invalidateQueries({ queryKey: [\"admin-jobs\"] })}\r\n      />\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,uCAAuC;;;;;;AAGvC;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AAlBA;;;;;;;;;;;;;AAqBe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAa;IAEzD,MAAM,cAAc,IAAA,wMAAc;IAElC,mEAAmE;IACnE,MAAM,EACJ,MAAM,OAAO,EAAE,EACf,SAAS,EACT,OAAO,EACP,KAAK,EACN,GAAG,IAAA,uLAAQ,EAAQ;QAClB,UAAU;YAAC;YAAc;SAAO;QAChC,SAAS;YACP,MAAM,OAAO,QAAQ,GAAG,CAAC,mBAAmB,IAAI;YAChD,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CACzB,GAAG,KAAK,oBAAoB,EAAE,mBAAmB,SAAS;YAE5D,OAAO,IAAI,IAAI,EAAE,QAAQ,EAAE;QAC7B;IACF;IAEA,8BAA8B;IAC9B,MAAM,oBAAoB,IAAA,6LAAW,EAAwB;QAC3D,YAAY,OAAO;YACjB,MAAM,OAAO,QAAQ,GAAG,CAAC,mBAAmB,IAAI;YAChD,MAAM,gJAAK,CAAC,MAAM,CAAC,GAAG,KAAK,kBAAkB,EAAE,mBAAmB,KAAK;QACzE;QACA,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAa;YAAC;QAC3D;IACF;IAEA,MAAM,kBAAkB,CAAC,MAAkB,IAAI;QAC7C,cAAc;QACd,aAAa;IACf;IAEA,qBACE,8OAAC,oMAAM,CAAC,GAAG;QAAC,SAAS;YAAE,SAAS;QAAE;QAAG,SAAS;YAAE,SAAS;QAAE;QAAG,WAAU;;0BAEtE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,8OAAC,4IAAM;wBAAC,WAAU;wBAA0B,SAAS,IAAM;;0CACzD,8OAAC,gOAAU;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;0BAK5B,8OAAC,wIAAI;gBAAC,WAAU;0BACd,cAAA,8OAAC,+IAAW;oBAAC,WAAU;;sCAErB,8OAAC,0IAAK;4BACJ,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;wBAI1C,2BAAa,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;wBAG1C,yBACC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;8CAAE;;;;;;gCACF,gJAAK,CAAC,YAAY,CAAC,wBAClB,8OAAC;oCAAE,WAAU;8CAAW,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO;;;;;;8CAExE,8OAAC,4IAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,YAAY,iBAAiB,CAAC;4CAAE,UAAU;gDAAC;6CAAa;wCAAC;8CACzE;;;;;;;;;;;;wBAOJ,CAAC,aAAa,CAAC,WAAW,KAAK,MAAM,KAAK,mBACzC,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;wBAI9B,CAAC,aAAa,KAAK,MAAM,GAAG,mBAC3B,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,0IAAK;;kDACJ,8OAAC,gJAAW;kDACV,cAAA,8OAAC,6IAAQ;;8DACP,8OAAC,8IAAS;8DAAC;;;;;;8DACX,8OAAC,8IAAS;8DAAC;;;;;;8DACX,8OAAC,8IAAS;8DAAC;;;;;;8DACX,8OAAC,8IAAS;8DAAC;;;;;;8DACX,8OAAC,8IAAS;8DAAC;;;;;;8DACX,8OAAC,8IAAS;8DAAC;;;;;;;;;;;;;;;;;kDAIf,8OAAC,8IAAS;kDACP,KAAK,GAAG,CAAC,CAAC,KAAK;4CACd,gEAAgE;4CAChE,MAAM,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,KAAK;4CAEnC,qBACE,8OAAC,iJAAM;gDAEL,KAAK;gDACL,QAAQ,IAAM,gBAAgB;gDAC9B,UAAU;oDACR,MAAM,KAAK,IAAI,GAAG;oDAClB,IAAI,CAAC,IAAI;wDACP,8BAA8B;wDAC9B,gCAAgC;wDAChC;oDACF;oDACA,kBAAkB,MAAM,CAAC;gDAC3B;+CAXK;;;;;wCAcX;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAWZ,8OAAC,mJAAQ;gBACP,QAAQ;gBACR,SAAS,IAAM,aAAa;gBAC5B,aAAa;gBACb,SAAS,IAAM,YAAY,iBAAiB,CAAC;wBAAE,UAAU;4BAAC;yBAAa;oBAAC;;;;;;;;;;;;AAIhF","debugId":null}}]
}