{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/app/admin/AdminLayoutClient.tsx"],"sourcesContent":["// frontend/src/app/admin/AdminLayoutClient.tsx\r\n\"use client\";\r\n\r\nimport React, { ReactNode, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { Menu, X, LogOut } from \"lucide-react\";\r\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\r\n\r\ninterface AdminLayoutClientProps {\r\n  children: ReactNode;\r\n  onLogout?: () => void;\r\n}\r\n\r\nexport default function AdminLayoutClient({ children, onLogout }: AdminLayoutClientProps) {\r\n  const pathname = usePathname();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  // React Query client\r\n  const [queryClient] = useState(() => new QueryClient());\r\n\r\n  const navItems = [\r\n    { label: \"Dashboard\", href: \"/admin\" },\r\n    { label: \"Jobs\", href: \"/admin/jobs\" },\r\n    { label: \"Applications\", href: \"/admin/applications\" },\r\n    { label: \"Blogs\", href: \"/admin/blogs\" },\r\n  ];\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <div className=\"flex min-h-screen bg-gray-100 text-black\">\r\n        {/* Sidebar */}\r\n        <aside\r\n          className={`fixed inset-y-0 left-0 z-20 w-64 bg-white border-r shadow-md transform transition-transform duration-300 ease-in-out\r\n            ${sidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"} md:translate-x-0 md:static md:inset-auto`}\r\n        >\r\n          {/* Logo / Header */}\r\n          <div className=\"h-16 flex items-center justify-center font-bold text-2xl border-b bg-gray-50\">\r\n            Admin Panel\r\n          </div>\r\n\r\n          {/* Nav links */}\r\n          <nav className=\"p-4 space-y-2\">\r\n            {navItems.map((item) => {\r\n              const active = pathname === item.href;\r\n              return (\r\n                <Link\r\n                  key={item.href}\r\n                  href={item.href}\r\n                  className={`flex items-center px-4 py-2 rounded-lg transition-colors \r\n                    ${active ? \"bg-violet-100 font-semibold text-violet-700\" : \"hover:bg-gray-100\"}`}\r\n                >\r\n                  {item.label}\r\n                </Link>\r\n              );\r\n            })}\r\n\r\n            {/* Logout */}\r\n            {onLogout && (\r\n              <button\r\n                onClick={onLogout}\r\n                className=\"mt-6 w-full flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition\"\r\n              >\r\n                <LogOut size={16} /> Logout\r\n              </button>\r\n            )}\r\n          </nav>\r\n        </aside>\r\n\r\n        {/* Main content */}\r\n        <div className=\"flex-1 flex flex-col min-h-screen md:pl-64\">\r\n          {/* Top navbar (mobile only) */}\r\n          <header className=\"h-16 flex items-center justify-between px-4 bg-white border-b shadow-sm md:hidden\">\r\n            <div className=\"font-bold text-lg\">Admin Panel</div>\r\n            <button\r\n              onClick={() => setSidebarOpen(!sidebarOpen)}\r\n              className=\"p-2 rounded hover:bg-gray-100\"\r\n              aria-label=\"Toggle Sidebar\"\r\n            >\r\n              {sidebarOpen ? <X size={24} /> : <Menu size={24} />}\r\n            </button>\r\n          </header>\r\n\r\n          {/* Page content */}\r\n          <main className=\"flex-1 overflow-auto p-6\">{children}</main>\r\n        </div>\r\n      </div>\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,+CAA+C;;;;;;AAG/C;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AANA;;;;;;;AAae,SAAS,kBAAkB,EAAE,QAAQ,EAAE,QAAQ,EAA0B;IACtF,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,qBAAqB;IACrB,MAAM,CAAC,YAAY,GAAG,IAAA,iNAAQ,EAAC,IAAM,IAAI,4LAAW;IAEpD,MAAM,WAAW;QACf;YAAE,OAAO;YAAa,MAAM;QAAS;QACrC;YAAE,OAAO;YAAQ,MAAM;QAAc;QACrC;YAAE,OAAO;YAAgB,MAAM;QAAsB;QACrD;YAAE,OAAO;YAAS,MAAM;QAAe;KACxC;IAED,qBACE,8OAAC,6MAAmB;QAAC,QAAQ;kBAC3B,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBACC,WAAW,CAAC;YACV,EAAE,cAAc,kBAAkB,oBAAoB,yCAAyC,CAAC;;sCAGlG,8OAAC;4BAAI,WAAU;sCAA+E;;;;;;sCAK9F,8OAAC;4BAAI,WAAU;;gCACZ,SAAS,GAAG,CAAC,CAAC;oCACb,MAAM,SAAS,aAAa,KAAK,IAAI;oCACrC,qBACE,8OAAC,uKAAI;wCAEH,MAAM,KAAK,IAAI;wCACf,WAAW,CAAC;oBACV,EAAE,SAAS,gDAAgD,qBAAqB;kDAEjF,KAAK,KAAK;uCALN,KAAK,IAAI;;;;;gCAQpB;gCAGC,0BACC,8OAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,8OAAC,oNAAM;4CAAC,MAAM;;;;;;wCAAM;;;;;;;;;;;;;;;;;;;8BAO5B,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAO,WAAU;;8CAChB,8OAAC;oCAAI,WAAU;8CAAoB;;;;;;8CACnC,8OAAC;oCACC,SAAS,IAAM,eAAe,CAAC;oCAC/B,WAAU;oCACV,cAAW;8CAEV,4BAAc,8OAAC,iMAAC;wCAAC,MAAM;;;;;6DAAS,8OAAC,0MAAI;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAKjD,8OAAC;4BAAK,WAAU;sCAA4B;;;;;;;;;;;;;;;;;;;;;;;AAKtD","debugId":null}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/njeru/fahari-marketing-site/frontend/src/app/admin/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\"; // removed unused AxiosError\r\nimport { useRouter } from \"next/navigation\";\r\nimport AdminLayoutClient from \"../AdminLayoutClient\";\r\n\r\nconst BACKEND_URL = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:5000\";\r\n\r\nexport default function AdminLoginPage() {\r\n  const router = useRouter();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    if (!email.trim() || !password.trim()) {\r\n      setError(\"Email and password are required\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      const res = await axios.post(\r\n        `${BACKEND_URL}/api/admin/login`,\r\n        { email: email.trim(), password },\r\n        { withCredentials: true }\r\n      );\r\n\r\n      if (!res.data?.success) {\r\n        setError(res.data?.message || \"Login failed\");\r\n        return;\r\n      }\r\n\r\n      // Redirect to admin dashboard after login\r\n      router.push(\"/admin\");\r\n    } catch (err: unknown) {\r\n      if (axios.isAxiosError(err)) {\r\n        setError(err.response?.data?.message || \"Server error\");\r\n      } else if (err instanceof Error) {\r\n        setError(err.message);\r\n      } else {\r\n        setError(\"Unexpected error\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AdminLayoutClient>\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100 p-4\">\r\n        <form\r\n          onSubmit={handleLogin}\r\n          className=\"bg-white shadow-lg rounded-xl p-8 w-full max-w-md\"\r\n          aria-label=\"Admin login form\"\r\n        >\r\n          <h1 className=\"text-2xl font-bold mb-6 text-center\">Admin Login</h1>\r\n\r\n          {error && (\r\n            <div className=\"mb-4 text-sm text-red-700 bg-red-100 p-2 rounded\">{error}</div>\r\n          )}\r\n\r\n          <label className=\"block mb-2 font-medium\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"w-full p-2 border rounded mb-4\"\r\n            required\r\n            autoComplete=\"username\"\r\n          />\r\n\r\n          <label className=\"block mb-2 font-medium\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"w-full p-2 border rounded mb-6\"\r\n            required\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className={`w-full bg-blue-600 text-white p-2 rounded ${\r\n              loading ? \"opacity-60 cursor-not-allowed\" : \"hover:bg-blue-700\"\r\n            }`}\r\n          >\r\n            {loading ? \"Logging inâ€¦\" : \"Login\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </AdminLayoutClient>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA,yOAA2B,4BAA4B;AACvD;AACA;AALA;;;;;;AAOA,MAAM,cAAc,QAAQ,GAAG,CAAC,oBAAoB,IAAI;AAEzC,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,SAAS;QAET,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS,IAAI,IAAI;YACrC,SAAS;YACT;QACF;QAEA,IAAI;YACF,WAAW;YAEX,MAAM,MAAM,MAAM,gJAAK,CAAC,IAAI,CAC1B,GAAG,YAAY,gBAAgB,CAAC,EAChC;gBAAE,OAAO,MAAM,IAAI;gBAAI;YAAS,GAChC;gBAAE,iBAAiB;YAAK;YAG1B,IAAI,CAAC,IAAI,IAAI,EAAE,SAAS;gBACtB,SAAS,IAAI,IAAI,EAAE,WAAW;gBAC9B;YACF;YAEA,0CAA0C;YAC1C,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAc;YACrB,IAAI,gJAAK,CAAC,YAAY,CAAC,MAAM;gBAC3B,SAAS,IAAI,QAAQ,EAAE,MAAM,WAAW;YAC1C,OAAO,IAAI,eAAe,OAAO;gBAC/B,SAAS,IAAI,OAAO;YACtB,OAAO;gBACL,SAAS;YACX;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,oJAAiB;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBACC,UAAU;gBACV,WAAU;gBACV,cAAW;;kCAEX,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;oBAEnD,uBACC,8OAAC;wBAAI,WAAU;kCAAoD;;;;;;kCAGrE,8OAAC;wBAAM,WAAU;kCAAyB;;;;;;kCAC1C,8OAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,WAAU;wBACV,QAAQ;wBACR,cAAa;;;;;;kCAGf,8OAAC;wBAAM,WAAU;kCAAyB;;;;;;kCAC1C,8OAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,WAAU;wBACV,QAAQ;wBACR,cAAa;;;;;;kCAGf,8OAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAW,CAAC,0CAA0C,EACpD,UAAU,kCAAkC,qBAC5C;kCAED,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;AAMvC","debugId":null}}]
}