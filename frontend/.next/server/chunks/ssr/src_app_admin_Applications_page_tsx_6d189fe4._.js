module.exports=[54405,a=>{"use strict";a.s(["default",()=>i]);var b=a.i(87924),c=a.i(72131),d=a.i(83490),e=a.i(27348),f=a.i(50944),g=a.i(1619),h=a.i(88615);let i=()=>{let a=(0,f.useRouter)(),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(""),s=(0,c.useCallback)(async()=>{l(!0),n(null);try{let a=await d.default.get("/api/admin/applications",{withCredentials:!0});j(a.data.data||[])}catch(b){if(d.default.isAxiosError(b)){let c=b.response?.data;if(b.response?.status===401)return void a.push("/admin/login");n(c?.message||b.message||"Failed to fetch applications.")}else b instanceof Error?n(b.message):n("Unknown error occurred while fetching applications.")}finally{l(!1)}},[a]);(0,c.useEffect)(()=>{s()},[s]);let t=i.filter(a=>a.name.toLowerCase().includes(q.toLowerCase())||a.jobTitle.toLowerCase().includes(q.toLowerCase()));return(0,b.jsx)(h.default,{children:(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Applications"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"View and manage job applications."}),(0,b.jsx)("input",{type:"text",placeholder:"Search by applicant name or job title...",value:q,onChange:a=>r(a.target.value),className:"border p-2 rounded w-64 mb-4"}),m&&(0,b.jsx)("div",{className:"text-red-600 mb-3",children:m}),k?(0,b.jsx)("div",{className:"py-6 text-center text-gray-600",children:"Loading applications..."}):0===t.length?(0,b.jsx)("div",{className:"py-6 text-center text-gray-600",children:"No applications found."}):(0,b.jsx)("div",{className:"overflow-x-auto bg-white rounded shadow",children:(0,b.jsxs)("table",{className:"w-full table-auto",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Name"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Email"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Job"}),(0,b.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-2 text-center text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:t.map(a=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"px-4 py-3",children:a.name}),(0,b.jsx)("td",{className:"px-4 py-3",children:a.email}),(0,b.jsx)("td",{className:"px-4 py-3",children:a.jobTitle}),(0,b.jsx)("td",{className:"px-4 py-3 capitalize",children:a.status||"new"}),(0,b.jsx)("td",{className:"px-4 py-3 text-center",children:(0,b.jsx)("button",{onClick:()=>p(a),className:"text-blue-600 hover:text-blue-800",title:"View application details",children:(0,b.jsx)(e.FiEye,{})})})]},a._id))})]})}),o&&(0,b.jsx)(g.default,{title:`Application â€” ${o.name}`,onClose:()=>p(null),children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Name:"})," ",o.name]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Email:"})," ",o.email]}),o.phone&&(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Phone:"})," ",o.phone]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Job:"})," ",o.jobTitle]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Status:"})," ",o.status||"new"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Applied on:"})," ",new Date(o.createdAt).toLocaleString()]}),o.cvUrl&&(0,b.jsx)("p",{children:(0,b.jsx)("a",{href:o.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View CV / Resume"})})]})})]})})}}];

//# sourceMappingURL=src_app_admin_Applications_page_tsx_6d189fe4._.js.map