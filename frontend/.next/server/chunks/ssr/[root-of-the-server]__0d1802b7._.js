module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},88615,a=>{"use strict";a.s(["default",()=>l],88615);var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(83490);let g=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},h=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let j=(0,c.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:d=2,absoluteStrokeWidth:e,className:f="",children:g,iconNode:j,...k},l)=>(0,c.createElement)("svg",{ref:l,...i,width:b,height:b,stroke:a,strokeWidth:e?24*Number(d)/Number(b):d,className:h("lucide",f),...!g&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,b])=>(0,c.createElement)(a,b)),...Array.isArray(g)?g:[g]])),k=((a,b)=>{let d=(0,c.forwardRef)(({className:d,...e},f)=>(0,c.createElement)(j,{ref:f,iconNode:b,className:h(`lucide-${g(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,d),...e}));return d.displayName=g(a),d})("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),l=({children:a})=>{let g=(0,e.useRouter)(),h=(0,e.usePathname)(),[i,j]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{j(!0);let a=await f.default.get("/api/admin/me",{withCredentials:!0});a.data?.success&&a.data?.user?.role==="admin"?m(!0):g.replace("/admin/login")}catch(a){console.error("Admin auth check failed:",a),o("Failed to verify admin session. Please login again."),g.replace("/admin/login")}finally{j(!1)}})()},[g]);let p=async()=>{try{await f.default.post("/api/admin/logout",{},{withCredentials:!0}),g.replace("/admin/login")}catch(a){console.error("Logout failed:",a),o("Logout failed. Please try again.")}};return i?(0,b.jsxs)("div",{className:"flex items-center justify-center h-screen text-gray-500",children:[(0,b.jsx)(k,{className:"animate-spin mr-2"})," Checking admin session..."]}):l?(0,b.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,b.jsxs)("aside",{className:"w-64 bg-white shadow-lg flex flex-col justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"p-6 border-b",children:(0,b.jsx)("h1",{className:"text-2xl font-bold text-blue-600",children:"Fahari Admin"})}),(0,b.jsx)("nav",{className:"mt-4 flex flex-col",children:[{href:"/admin",label:"Dashboard"},{href:"/admin/jobs",label:"Jobs"},{href:"/admin/applications",label:"Applications"},{href:"/admin/promos",label:"Promos"},{href:"/admin/gallery",label:"Gallery"},{href:"/admin/testimonials",label:"Testimonials"}].map(({href:a,label:c})=>(0,b.jsx)(d.default,{href:a,className:`px-6 py-3 hover:bg-gray-100 ${h===a?"bg-gray-200 font-semibold":""}`,children:c},a))})]}),(0,b.jsx)("button",{onClick:p,className:"m-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Logout"})]}),(0,b.jsxs)("main",{className:"flex-1 p-6",children:[n&&(0,b.jsx)("div",{className:"mb-4 p-3 rounded bg-red-100 text-red-700 text-sm",children:n}),a]})]}):null}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0d1802b7._.js.map