{"level":"error","message":"R2: Missing required env variables. Ensure CLOUDFLARE_R2_KEY, CLOUDFLARE_R2_SECRET, CLOUDFLARE_R2_BUCKET, and R2_PUBLIC_URL are set.","timestamp":"2025-09-19 20:00:49"}
{"date":"Fri Sep 19 2025 20:00:49 GMT+0300 (East Africa Time)","error":{},"exception":true,"level":"error","message":"uncaughtException: R2 env not properly configured\nError: R2 env not properly configured\n    at file:///C:/Users/njeru/fahari-marketing-site/backend/utils/r2.js:29:9\n    at ModuleJob.run (node:internal/modules/esm/module_job:343:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:647:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)","os":{"loadavg":[0,0,0],"uptime":652208.421},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\njeru\\fahari-marketing-site\\backend\\scripts\\testR2Upload.js"],"cwd":"C:\\Users\\njeru\\fahari-marketing-site","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":23443,"external":2753840,"heapTotal":32280576,"heapUsed":15834632,"rss":59293696},"pid":12560,"uid":null,"version":"v22.18.0"},"stack":"Error: R2 env not properly configured\n    at file:///C:/Users/njeru/fahari-marketing-site/backend/utils/r2.js:29:9\n    at ModuleJob.run (node:internal/modules/esm/module_job:343:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:647:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)","timestamp":"2025-09-19 20:00:49","trace":[{"column":9,"file":"file:///C:/Users/njeru/fahari-marketing-site/backend/utils/r2.js","function":null,"line":29,"method":null,"native":false},{"column":25,"file":"node:internal/modules/esm/module_job","function":"ModuleJob.run","line":343,"method":"run","native":false},{"column":26,"file":"node:internal/modules/esm/loader","function":"async onImport.tracePromise.__proto__","line":647,"method":"__proto__","native":false},{"column":5,"file":"node:internal/modules/run_main","function":"async asyncRunEntryPointWithESMLoader","line":117,"method":null,"native":false}]}
{"0":"E","1":"r","10":"e","100":"i","101":"l","102":"s","103":"/","104":"r","105":"2","106":".","107":"j","108":"s","109":":","11":"n","110":"2","111":"9","112":":","113":"9","114":"\n","115":" ","116":" ","117":" ","118":" ","119":"a","12":"v","120":"t","121":" ","122":"M","123":"o","124":"d","125":"u","126":"l","127":"e","128":"J","129":"o","13":" ","130":"b","131":".","132":"r","133":"u","134":"n","135":" ","136":"(","137":"n","138":"o","139":"d","14":"n","140":"e","141":":","142":"i","143":"n","144":"t","145":"e","146":"r","147":"n","148":"a","149":"l","15":"o","150":"/","151":"m","152":"o","153":"d","154":"u","155":"l","156":"e","157":"s","158":"/","159":"e","16":"t","160":"s","161":"m","162":"/","163":"m","164":"o","165":"d","166":"u","167":"l","168":"e","169":"_","17":" ","170":"j","171":"o","172":"b","173":":","174":"3","175":"4","176":"3","177":":","178":"2","179":"5","18":"p","180":")","181":"\n","182":" ","183":" ","184":" ","185":" ","186":"a","187":"t","188":" ","189":"a","19":"r","190":"s","191":"y","192":"n","193":"c","194":" ","195":"o","196":"n","197":"I","198":"m","199":"p","2":"r","20":"o","200":"o","201":"r","202":"t","203":".","204":"t","205":"r","206":"a","207":"c","208":"e","209":"P","21":"p","210":"r","211":"o","212":"m","213":"i","214":"s","215":"e","216":".","217":"_","218":"_","219":"p","22":"e","220":"r","221":"o","222":"t","223":"o","224":"_","225":"_","226":" ","227":"(","228":"n","229":"o","23":"r","230":"d","231":"e","232":":","233":"i","234":"n","235":"t","236":"e","237":"r","238":"n","239":"a","24":"l","240":"l","241":"/","242":"m","243":"o","244":"d","245":"u","246":"l","247":"e","248":"s","249":"/","25":"y","250":"e","251":"s","252":"m","253":"/","254":"l","255":"o","256":"a","257":"d","258":"e","259":"r","26":" ","260":":","261":"6","262":"4","263":"7","264":":","265":"2","266":"6","267":")","268":"\n","269":" ","27":"c","270":" ","271":" ","272":" ","273":"a","274":"t","275":" ","276":"a","277":"s","278":"y","279":"n","28":"o","280":"c","281":" ","282":"a","283":"s","284":"y","285":"n","286":"c","287":"R","288":"u","289":"n","29":"n","290":"E","291":"n","292":"t","293":"r","294":"y","295":"P","296":"o","297":"i","298":"n","299":"t","3":"o","30":"f","300":"W","301":"i","302":"t","303":"h","304":"E","305":"S","306":"M","307":"L","308":"o","309":"a","31":"i","310":"d","311":"e","312":"r","313":" ","314":"(","315":"n","316":"o","317":"d","318":"e","319":":","32":"g","320":"i","321":"n","322":"t","323":"e","324":"r","325":"n","326":"a","327":"l","328":"/","329":"m","33":"u","330":"o","331":"d","332":"u","333":"l","334":"e","335":"s","336":"/","337":"r","338":"u","339":"n","34":"r","340":"_","341":"m","342":"a","343":"i","344":"n","345":":","346":"1","347":"1","348":"7","349":":","35":"e","350":"5","351":")","36":"d","37":"\n","38":" ","39":" ","4":"r","40":" ","41":" ","42":"a","43":"t","44":" ","45":"f","46":"i","47":"l","48":"e","49":":","5":":","50":"/","51":"/","52":"/","53":"C","54":":","55":"/","56":"U","57":"s","58":"e","59":"r","6":" ","60":"s","61":"/","62":"n","63":"j","64":"e","65":"r","66":"u","67":"/","68":"f","69":"a","7":"R","70":"h","71":"a","72":"r","73":"i","74":"-","75":"m","76":"a","77":"r","78":"k","79":"e","8":"2","80":"t","81":"i","82":"n","83":"g","84":"-","85":"s","86":"i","87":"t","88":"e","89":"/","9":" ","90":"b","91":"a","92":"c","93":"k","94":"e","95":"n","96":"d","97":"/","98":"u","99":"t","level":"error","message":"Uncaught Exception:","timestamp":"2025-09-19 20:00:49"}
